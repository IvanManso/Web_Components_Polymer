<link rel="import" href="http://www.polymer-project.org/1.0/components/polymer/polymer.html">
<link rel="import" href="wc-cinema.html">
<dom-module id="wc-selector">
    <template>
        <button on-tap="onTap" value="A">Cambiar</button>
    </template>
    <script>
    (function() {
        var i = 0;
        Polymer({
            is: "wc-selector",
            properties: {
                movies: {
                    type: Object
                },
                m1: {
                    type: Array
                },
                m2: {
                    type: Array
                },
                data: {
                    type: Array
                },
                key:{
                    type: String
                },
                selected:{
                    type: Number,
                    value: 0,
                    notify: true
                }
            },
            onTap: function(e) {
                var length = Polymer.dom(this).children.length;
                console.log("Los hijos son", Polymer.dom(this).children);
                console.log("El length es", length);
                this.selected=(this.selected+1) % length;
                this.hijo = Polymer.dom(this).children[this.selected];
                console.log("El hijo es", this.hijo);
                this.data = this.hijo[this.key];
                console.log("El data es", this.data);
                this.notifyPath("data", this.data);
                /*console.log("Soy el onTap");
                if (e.target.value === "A") {
                    e.target.value = "B";
                    this.data = hijo;
                   // this.notifyPath("data", this.data);

                } else {
                    e.target.value = "A";
                    this.data = hijo;
                   // this.notifyPath("data", this.data);

                }*/
            },
            ready: function() {
                this.async(function(){
                console.log("Los hijos son", this.children);
                this.data = Polymer.dom(this).children[0][this.key];
                //this.key = "m1";
                console.log("Estoy en el ready del selector");
                console.log("El this.data es ", this.data);
                this.notifyPath("data", this.data);
            }.bind(this), 500);

            }
        });
    })();
    </script>
</dom-module>
