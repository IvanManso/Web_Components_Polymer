<link rel="import" href="http://www.polymer-project.org/1.0/components/polymer/polymer.html">
<link rel="import" href="wc-window.html">
<link rel="import" href="wc-kiosk.html">
<link rel="import" href="wc-cinema.html">
<link rel="import" href="wc-ticket.html">
<dom-module id="wc-text">
    <template>
        <style>
        #marco {
            margin: 20px;
            padding: 20px;
            text-align: center;
            border-style: solid;
            border-radius: 8px;
            background-color: lightgreen;
        }
        </style>
        <button on-tap="onTap" value="A">Cambiar</button>
        <wc-cinema movies="{{m1}}" value="A">
        </wc-cinema>
        <wc-cinema movies="{{m2}}" value="B">
        </wc-cinema>
        <wc-window movies="{{movies}}" kiosk="{{kiosk}}" id="j">
        </wc-window>
        <wc-kiosk id="k">
        </wc-kiosk>
    </template>
</dom-module id="wc-text">
<script>
(function() {
    Polymer({
        is: "wc-text",
        properties: {
            kiosk: {
                type: Object,
                value: function() {
                    return {};
                }
            },
            movies:{
                type: Object
            },
            m1:{
                type: Array
            },
            m2:{
                type: Array
            }
        },
        onTap:function(e){
            console.log("Soy el onTap");
            if(e.target.value === "A"){
                e.target.value= "B";
                this.movies = this.m2;
            }
            else{
                e.target.value = "A";
                this.movies = this.m1;
            }
        },
        ready: function() {
            this.kiosk = this.$.k;
            this.movies = this.m1; //de esto depende que ponga el ticket en un kiosko u otro
        }

    });
})();
</script>
</dom-module>
